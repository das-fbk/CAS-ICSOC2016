<?xml version="1.0" encoding="UTF-8"?>
<tns:ensemble name="RouteA" xmlns:tns="http://das.fbk.eu/Ensemble" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://das.fbk.eu/Ensemble Ensemble.xsd ">
  <!--  ROUTE MANAGER RMA -->
  
  	
  	<tns:role id="rmA1" type="RMA">
    <tns:domainObjectType>tns:domainObjectType</tns:domainObjectType>
    
    <!--Solve HighTraffic Issue generated by the Driver with ReRoute for the bus and Exit for the passenger-->
    <tns:solver name="HighTraffic1" selected="true">
      <tns:issue>
        <tns:issueType>ManageIntenseTraffic</tns:issueType>
        <tns:issueCondition></tns:issueCondition>
      </tns:issue>
      <tns:solverCondition></tns:solverCondition>
      <tns:solution name="SOL1">
        <tns:internalSolution>Nothing</tns:internalSolution>
        <tns:issue>
        <!--  communicate to the Driver to change the route path -->
        <tns:issueType>DriverChangePath</tns:issueType>
        <tns:issueCondition>Exist</tns:issueCondition>
      </tns:issue>
      <tns:issue>
        <!--  communicate to Passenger to plan alone -->
        <tns:issueType>ExitAndRePlan</tns:issueType>
        <tns:issueCondition>Exist</tns:issueCondition>
      </tns:issue>
      </tns:solution>
    </tns:solver>
    
    
    <tns:solver name="HighTraffic2" selected="true">
      <tns:issue>
        <tns:issueType>ManageIntenseTraffic</tns:issueType>
        <tns:issueCondition></tns:issueCondition>
      </tns:issue>
      <tns:solverCondition></tns:solverCondition>
      <tns:solution name="SOL2">
        <tns:internalSolution>Nothing</tns:internalSolution>
        <tns:issue>
        <!--  communicate to the Driver to change the route path -->
        <tns:issueType>DriverChangePath</tns:issueType>
        <tns:issueCondition>Exist</tns:issueCondition>
      </tns:issue>
      <tns:issue>
        <!--  communicate to Passenger to plan alone -->
        <tns:issueType>ChangePickUpPoint</tns:issueType>
        <tns:issueCondition>Exist</tns:issueCondition>
      </tns:issue>
      </tns:solution>
    </tns:solver>
    
   <tns:solver name="HighTraffic3" selected="true">
      <tns:issue>
        <tns:issueType>ManageIntenseTraffic</tns:issueType>
        <tns:issueCondition></tns:issueCondition>
      </tns:issue>
      <tns:solverCondition></tns:solverCondition>
      <tns:solution name="SOL3">
        <tns:internalSolution>Nothing</tns:internalSolution>
        <tns:issue>
        <!--  communicate to the Driver to change the route path -->
        <tns:issueType>DriverChangePath</tns:issueType>
        <tns:issueCondition>Exist</tns:issueCondition>
      </tns:issue>
      <tns:issue>
        <!--  communicate to Passenger FBC to assign a passenger to another Route -->
        <tns:issueType>AssignPassengerRouteA</tns:issueType>
        <tns:issueCondition>Exist</tns:issueCondition>
      </tns:issue>
      </tns:solution>
    </tns:solver>
    
   
   
    </tns:role>
    
   <!--  DRIVER DRIVER A -->
  <tns:role id="driverA" type="DriverA">
    <tns:domainObjectType>tns:domainObjectType</tns:domainObjectType>
    
    <!--Communicate intense traffic-->
    <tns:solver name="ReRoute" selected="true">
      <tns:issue>
        <tns:issueType>IntenseTraffic</tns:issueType>
        <tns:issueCondition></tns:issueCondition>
      </tns:issue>
      <tns:solverCondition></tns:solverCondition>
      <tns:solution name="SOL">
        <tns:internalSolution>Nothing</tns:internalSolution>
        <tns:issue>
        <!--  communicate to the Driver to change the route path -->
        <tns:issueType>ManageIntenseTraffic</tns:issueType>
        <tns:issueCondition>Exist</tns:issueCondition>
      </tns:issue>
     </tns:solution>
     </tns:solver>
        
     <!--Change Travel Route Plan-->
    <tns:solver name="ChangeRoute" selected="true">
      <tns:issue>
        <tns:issueType>DriverChangePath</tns:issueType>
        <tns:issueCondition></tns:issueCondition>
      </tns:issue>
      <tns:solverCondition></tns:solverCondition>
      <tns:solution name="SOL">
        <tns:internalSolution>ChangePath</tns:internalSolution>
     </tns:solution>
     </tns:solver>
    
    </tns:role>
    
   <!--  PASSENGER P3 -->
  <tns:role id="p3" type="P3">
    <tns:domainObjectType>tns:domainObjectType</tns:domainObjectType>
    
    <!--ExitAndRePlan Trip Alone (Exit From Ensemble)-->
    <tns:solver name="ExitAndRePlan" selected="true">
      <tns:issue>
        <tns:issueType>ExitAndRePlan</tns:issueType>
        <tns:issueCondition></tns:issueCondition>
      </tns:issue>
      <tns:solverCondition></tns:solverCondition>
      <tns:solution name="SOL">
        <tns:internalSolution>UseOnlyBike</tns:internalSolution>
      </tns:solution>
    </tns:solver>
    
     <!--Change PickUpPoint-->
    <tns:solver name="RePlanIn" selected="true">
      <tns:issue>
        <tns:issueType>ChangePickUpPoint</tns:issueType>
        <tns:issueCondition></tns:issueCondition>
      </tns:issue>
      <tns:solverCondition></tns:solverCondition>
      <tns:solution name="SOL">
        <tns:internalSolution>internalSolution</tns:internalSolution>
      </tns:solution>
    </tns:solver>
    

    </tns:role>
    
   
  <tns:variable>NMTOKEN</tns:variable>
</tns:ensemble>
